.TH emu-snapshot 1  "January 17, 2013" "version 0.0.3" "Emu Manual"
.SH NAME
emu\-snapshot \- Record a snapshot of the source directory
.SH SYNOPSIS
.B emu snapshot
[\-v] [\-p] [\-f] [\-F]
             [\-n] [\-m | \-M [editor]] [<sink>...]
.SH DESCRIPTION
Store the current contents of the source directory in a new snapshot.
.PP
The difference between the content of the source and the last snapshot in the
sink is added to the sink and linked against the existing content, combining to
produce a full snapshot of the source directory. This enables emu sinks to be
very compact, allowing multiple full snapshots to be stored in a space little
larger than a single full snapshot.
.PP
emu refers to the directory to be backed up as the "source" and the backup
destination as the "sink". This is analogous to a electrical sources and sinks,
the critical difference being of course that data can flow from the sink back to
the source (in the case of a restore).
.PP
Some of the features of the snapshot features are:
.IP \[bu]
supports copying links, devices, owners, groups, and permissions
.IP \[bu]
exclude and exclude\-from options in .emu/excludes
.IP \[bu]
does not require super\-user privileges
.PP
emu uses the rsync file\-copying tool for its delta\-transfer algorithm, which
reduces the amount of data sent by sending only the differences between the
source files and the existing files in the sink.
.PP
Rsync finds files that need to be transferred using a "quick check" algorithm
that looks for files that have changed in size or in last\-modified time.
.SH OPTIONS
.TP
\-m <message>
add a snapshot message <message>
.TP
\-M
open an editor to add a snapshot message (editor determined by EDITOR
environment variable)
.TP
\-n
perform a trial run with no changes made, equivalent to
'emu status'
.TP
\-v
increase verbosity
.TP
\-p
show progress during transfer
.TP
\-f
force snapshot. This causes the program to disregard any exclusivity locks that
the source or sink directories may have. Not recommended for everyday
consumption, but is useful after a previous snapshot attempt failed
.TP
\-F
equivalent to \-f force option, but in addition causing emu to kill any process
owning a sink or source lock and removing any in\-progress snapshot
data. Exercise caution or heads will explode
.SH EMU
Part of the
.B emu
(1)
suite
.SH AUTHOR
Chris Cummins <chrisc.101@gmail.com>
.SH SEE ALSO
.B emu
(1)
